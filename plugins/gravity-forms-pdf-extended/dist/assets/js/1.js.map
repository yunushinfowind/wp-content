{"version":3,"sources":["webpack:///./src/assets/js/react/components/ShowMessage.js","webpack:///./src/assets/js/react/components/Template/TemplateSingleComponents.js","webpack:///./src/assets/js/react/components/Template/TemplateActivateButton.js","webpack:///./src/assets/js/react/selectors/getTemplates.js","webpack:///./src/assets/js/react/utilities/versionCompare.js","webpack:///./src/assets/js/react/components/Template/TemplateCloseDialog.js","webpack:///./src/assets/js/react/components/Template/TemplateContainer.js"],"names":["showMessage","visible","b","f","t","_this","props","dismissable","setTimer","_timer","clearTimeout","setTimeout","$","_message","removeClass","slideUp","removeAttr","setState","dismissableCallback","delay","React","Component","this","shouldSetTimer","_this2","_this$props","text","classes","error","state","react__WEBPACK_IMPORTED_MODULE_4___default","a","createElement","ref","message","className","PropTypes","string","isRequired","bool","number","func","CurrentTemplate","_ref","isCurrentTemplate","label","react__WEBPACK_IMPORTED_MODULE_2___default","propTypes","Name","_ref2","name","version","versionLabel","Version","_ref3","Author","_ref4","author","uri","href","Group","_ref5","group","Description","_ref6","desc","Tags","_ref7","tags","TemplateActivateButton","_React$Component","_getPrototypeOf2","_len","arguments","length","args","Array","_key","_defineProperty","_assertThisInitialized","_getPrototypeOf","call","apply","concat","e","preventDefault","stopPropagation","history","push","onTemplateSelect","template","id","TypeError","prototype","Object","create","constructor","value","writable","configurable","key","react__WEBPACK_IMPORTED_MODULE_3___default","onClick","selectTemplate","tabIndex","buttonText","y","object","withRouter","connect","dispatch","createSelector","list","search","activeTemplate","templates","map","requiredVersion","required_pdf_version","v1","v2","operator","i","x","compare","vm","dev","alpha","beta","RC","rc","#","p","pl","_prepVersion","v","replace","split","_numVersion","isNaN","parseInt","Math","max","GFPDF","currentVersion","_objectSpread","compatible","requiresGravityPdfVersion","long_error","templateNotCompatibleWithGravityPdfVersion","addCompatibilityCheck","term","match","RegExp","filter","description","test","toString","sort","new","TemplateCloseDialog","keyCode","target","closeDialog","closeRoute","document","addEventListener","handleKeyPress","removeEventListener","react_default","onKeyDown","aria-label","m","Container","container","contains","focus","handleFocus","activeElement","header","footer","children","node","Template_TemplateCloseDialog","oneOfType","element"],"mappings":"ggCAkBMA,yVA8BI,CACNC,aAASC,EAAAC,EAAAC,GAAA,iBA2BM,WACXC,EAAKC,MAAMC,aACbF,EAAKG,+BAYE,WAEM,MAAfH,EAAKI,QAAiBC,aAAaL,EAAKI,QAGxCJ,EAAKI,OAASE,WAAW,WAEvBC,IAAEP,EAAKQ,UACJC,YAAY,UACZC,QAAQ,IAAK,WACZH,IAAEP,EAAKQ,UAAUG,WAAW,SAC5BX,EAAKY,SAAS,CAAChB,aACfI,EAAKI,OAAS,KAEVJ,EAAKC,MAAMY,qBACbb,EAAKC,MAAMY,yBAIhBb,EAAKC,MAAMa,uPA3FQC,IAAMC,qGAwC5BC,KAAKL,SAAS,CAAChB,aACfqB,KAAKC,6DASLD,KAAKC,gEAkDDD,KAAKhB,MAAMC,aACbG,aAAaY,KAAKb,yCASZ,IAAAe,EAAAF,KAAAG,EACcH,KAAKhB,MAApBoB,EADCD,EACDC,KAEHC,EAAU,gBAMd,OATQF,EACKG,QAKXD,GAAoB,UAGfL,KAAKO,MAAM5B,QAChB6B,EAAAC,EAAAC,cAAA,OAAKC,IAAK,SAACC,GAAD,OAAaV,EAAKX,SAAWqB,GAASC,UAAWR,GACzDG,EAAAC,EAAAC,cAAA,SAAIN,IAEJI,EAAAC,EAAAC,cAAA,gBAAAD,EA3HF/B,GA2HEE,EA3HFF,iBAQkB,CACpBmB,MAAO,IACPZ,iBAAaL,EAVXF,cAgBe,CACjB0B,KAAMU,IAAUC,OAAOC,WACvBV,MAAOQ,IAAUG,KAEjBpB,MAAOiB,IAAUI,OACjBjC,YAAa6B,IAAUG,KACvBrB,oBAAqBkB,IAAUK,OAyGpBzC,kRC9HF0C,EAAkB,SAAAC,GAAgC,IAA9BC,EAA8BD,EAA9BC,kBAAmBC,EAAWF,EAAXE,MAClD,OAAQD,EACNE,EAAAf,EAAAC,cAAA,QAAMG,UAAU,iBAAiBU,GAEjCC,EAAAf,EAAAC,cAAA,cAIJU,EAAgBK,UAAY,CAC1BH,kBAAmBR,IAAUG,KAC7BM,MAAOT,IAAUC,QAUZ,IAAMW,EAAO,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,KAAMC,EAARF,EAAQE,QAASC,EAAjBH,EAAiBG,aAAjB,OAClBN,EAAAf,EAAAC,cAAA,MAAIG,UAAU,cACXe,EAEDJ,EAAAf,EAAAC,cAACqB,EAAD,CAASF,QAASA,EAASN,MAAOO,MAItCJ,EAAKD,UAAY,CACfG,KAAMd,IAAUC,OAChBc,QAASf,IAAUC,OACnBe,aAAchB,IAAUC,QAUnB,IAAMgB,EAAU,SAAAC,GAAsB,IAApBT,EAAoBS,EAApBT,MAAOM,EAAaG,EAAbH,QAC9B,OAAQA,EACNL,EAAAf,EAAAC,cAAA,QAAMG,UAAU,iBAAiBU,EAAjC,KAA0CM,GAE1CL,EAAAf,EAAAC,cAAA,cAIJqB,EAAQN,UAAY,CAClBF,MAAOT,IAAUC,OACjBc,QAASf,IAAUC,QAUd,IAAMkB,EAAS,SAAAC,GAAmB,IAAjBC,EAAiBD,EAAjBC,OAAQC,EAASF,EAATE,IAE9B,OAAIA,EAEAZ,EAAAf,EAAAC,cAAA,KAAGG,UAAU,gBACXW,EAAAf,EAAAC,cAAA,KAAG2B,KAAMD,GACND,IAMLX,EAAAf,EAAAC,cAAA,KAAGG,UAAU,gBACVsB,IAMTF,EAAOR,UAAY,CACjBU,OAAQrB,IAAUC,OAClBqB,IAAKtB,IAAUC,QAUV,IAAMuB,EAAQ,SAAAC,GAAA,IAAEhB,EAAFgB,EAAEhB,MAAOiB,EAATD,EAASC,MAAT,OACnBhB,EAAAf,EAAAC,cAAA,KAAGG,UAAU,gBACXW,EAAAf,EAAAC,cAAA,cAASa,EAAT,KAAkBiB,KAItBF,EAAMb,UAAY,CAChBF,MAAOT,IAAUC,OACjByB,MAAO1B,IAAUC,QAUZ,IAAM0B,EAAc,SAAAC,GAAA,IAAEC,EAAFD,EAAEC,KAAF,OACzBnB,EAAAf,EAAAC,cAAA,KAAGG,UAAU,qBACV8B,IAILF,EAAYhB,UAAY,CACtBkB,KAAM7B,IAAUC,QAUX,IAAM6B,EAAO,SAAAC,GAAmB,IAAjBtB,EAAiBsB,EAAjBtB,MAAOuB,EAAUD,EAAVC,KAC3B,OAAQA,EACNtB,EAAAf,EAAAC,cAAA,KAAGG,UAAU,cACXW,EAAAf,EAAAC,cAAA,YAAOa,EAAP,KADF,IACyBuB,GAGzBtB,EAAAf,EAAAC,cAAA,cAIJkC,EAAKnB,UAAY,CACfF,MAAOT,IAAUC,OACjB+B,KAAMhC,IAAUC,o9BCzIX,IAAMgC,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAlE,mCAAAgE,GAAAhE,0DAAAiB,MAAA,QAAAkD,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAC,EAAAC,EAAA1E,wEAAAiB,MAAAiD,EAAAS,EAAAX,IAAAY,KAAAC,MAAAX,EAAA,CAAAjD,MAAA6D,OAAAR,MAAA,iBAkBmB,SAACS,GAChBA,EAAEC,iBACFD,EAAEE,kBAEFjF,EAAKC,MAAMiF,QAAQC,KAAK,IACxBnF,EAAKC,MAAMmF,iBAAiBpF,EAAKC,MAAMoF,SAASC,MAvBpDtF,EAAA,gBAAA+E,EAAAhF,GAAA,sBAAAA,GAAA,OAAAA,EAAA,UAAAwF,UAAA,sDAAAR,EAAAS,UAAAC,OAAAC,OAAA3F,KAAAyF,UAAA,CAAAG,YAAA,CAAAC,MAAAb,EAAAc,UAAA,EAAAC,cAAA,KAAA/F,GAAAF,EAAAkF,EAAAhF,GAAA,CAAAiE,EAA4CjD,IAAMC,gDAAlDgD,EAAA,EAAA+B,IAAA,SAAAH,MAAA,WA8BI,OACEI,EAAAtE,EAAAC,cAAA,KACEsE,QAAShF,KAAKiF,eACd5C,KAAK,IACL6C,SAAS,MACTrE,UAAU,kCACTb,KAAKhB,MAAMmG,gBApCpBpC,EAAA,GAAAqC,EAAarC,cAIQ,CACjBkB,QAASnD,IAAUuE,OACnBlB,iBAAkBrD,IAAUK,KAC5BiD,SAAUtD,IAAUuE,OACpBF,WAAYrE,IAAUC,SAuDXuE,gBAAWC,YAAQ,KAXP,SAAAC,GACzB,MAAO,CACLrB,iBAAkB,SAAAE,GAAE,OAAImB,EAASP,YAAeZ,OAS1BkB,CAAkCxC,qjBCuE7C0C,gBAAe,CA7IT,SAAClF,GAAD,OAAWA,EAAM6D,SAASsB,MAC7B,SAACnF,GAAD,OAAWA,EAAM6D,SAASuB,QAClB,SAACpF,GAAD,OAAWA,EAAM6D,SAASwB,iBA2IwB,SAACC,EAAWF,EAAQC,GAO9F,OANAC,EAzBmC,SAACA,GAEpC,OAAOA,EAAUC,IAAI,SAAC1B,GAEpB,IAAM2B,EAAkB3B,EAAQ4B,qBAChC,OCjGW,SAACC,EAAIC,EAAIC,GAkBtB,IAAIC,EACAC,EACAC,EAAU,EASVC,EAAK,CACPC,KAAQ,EACRC,OAAU,EACVhG,GAAM,EACNiG,MAAS,EACT9H,GAAM,EACN+H,IAAO,EACPC,IAAO,EACPC,KAAM,EACNC,EAAK,EACLC,GAAM,GAYJC,EAAe,SAAuBC,GAGxC,OADAA,GADAA,GAAK,GAAKA,GAAGC,QAAQ,UAAW,MAC1BA,QAAQ,aAAc,QAAQA,QAAQ,UAAW,MAC7C9D,OAAgB6D,EAAEE,MAAM,KAAf,EAAE,IAMnBC,EAAc,SAAsBH,GACtC,OAAQA,EAAQI,MAAMJ,GAAKV,EAAGU,KAAO,EAAIK,SAASL,EAAG,IAAzC,GAMd,IAHAhB,EAAKe,EAAaf,GAClBC,EAAKc,EAAad,GAClBG,EAAIkB,KAAKC,IAAIvB,EAAG7C,OAAQ8C,EAAG9C,QACtBgD,EAAI,EAAGA,EAAIC,EAAGD,IACjB,GAAIH,EAAGG,KAAOF,EAAGE,GAAjB,CAKA,GAFAH,EAAGG,GAAKgB,EAAYnB,EAAGG,IACvBF,EAAGE,GAAKgB,EAAYlB,EAAGE,IACnBH,EAAGG,GAAKF,EAAGE,GAAI,CACjBE,GAAW,EACX,MACK,GAAIL,EAAGG,GAAKF,EAAGE,GAAI,CACxBE,EAAU,EACV,OAaA,OAAiB,EAAVA,EA3FE,CDiGQP,EAAiB0B,MAAMC,gBAExCC,EAAA,GACKvD,EADL,CAEEwD,cACAtH,MAASmH,MAAMI,0BAA0BX,QAAQ,MAAOnB,GACxD+B,WAAcL,MAAMM,2CAA2Cb,QAAQ,MAAOnB,KAIlF4B,EAAA,GAAYvD,EAAZ,CAAsBwD,kBAUZI,CAAsBnC,GAE9BF,IACFE,EAlI2B,SAACoC,EAAMpC,GAQpCoC,GADAA,EAAOA,EAAKf,QAAQ,yBAA0B,SAClCA,QAAQ,KAAM,UAE1B,IAAMgB,EAAQ,IAAIC,OAAO,SAAWF,EAAO,MAAO,KAelD,OAXgBpC,EAAUuC,OAAO,SAAChE,GAEhC,IAAMxC,EAAOwC,EAASA,SAAS8C,QAAQ,gBAAiB,IAClDmB,EAAcjE,EAASiE,YAAYnB,QAAQ,gBAAiB,IAC5D/E,EAASiC,EAASjC,OAAO+E,QAAQ,gBAAiB,IAClD1E,EAAQ4B,EAAS5B,MAAM0E,QAAQ,gBAAiB,IAGtD,OAAOgB,EAAMI,KAAK,CAAC1G,EAAMwC,EAASC,GAAI7B,EAAO6F,EAAalG,GAAQoG,cAtBvC,CAkIC5C,EAAQE,IArFX,SAACA,EAAWD,GAEvC,OAAOC,EAAU2C,KAAK,SAAC/H,EAAG7B,GAExB,WAAI6B,EAACgI,MAAA,IAAoBhI,EAACgI,IACjB,OAGLhI,EAACgI,IACI,OAGL7J,EAAC6J,KACK,EAIN7C,IAAmBnF,EAAC4D,IACd,EAGNuB,IAAmBhH,EAACyF,GACf,EAIL5D,EAAC+B,MAAY5D,EAAC4D,OACR,EAGN/B,EAAC+B,MAAY5D,EAAC4D,MACT,EAIL/B,EAAC2D,SAAexF,EAACwF,UACX,EAGN3D,EAAC2D,SAAexF,EAACwF,SACZ,EAGF,IA3CkB,CAwFNyB,EAAWD,k8BEhJ3B,IAAM8C,EAAb,SAAA1F,GAAA,SAAA0F,IAAA,IAAAzF,EAAAlE,mCAAA2J,GAAA3J,0DAAAiB,MAAA,QAAAkD,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAC,EAAAC,EAAA1E,wEAAAiB,MAAAiD,EAAAS,EAAAgF,IAAA/E,KAAAC,MAAAX,EAAA,CAAAjD,MAAA6D,OAAAR,MAAA,iBAmCmB,SAACS,GAEE,KAAdA,EAAE6E,SAA0C,qBAAvB7E,EAAE8E,OAAO/H,WAAuD,KAAnBiD,EAAE8E,OAAOjE,OAC7E5F,EAAK8J,gBAtCXrF,EAAAC,EAAA1E,GAAA,cA6CgB,WAEZA,EAAKC,MAAMiF,QAAQC,KAAKnF,EAAKC,MAAM8J,YAAc,OA/CrD/J,EAAA,gBAAA+E,EAAAhF,GAAA,sBAAAA,GAAA,OAAAA,EAAA,UAAAwF,UAAA,sDAAAR,EAAAS,UAAAC,OAAAC,OAAA3F,KAAAyF,UAAA,CAAAG,YAAA,CAAAC,MAAAb,EAAAc,UAAA,EAAAC,cAAA,KAAA/F,GAAAD,EAAAiF,EAAAhF,GAAA,CAAA4J,EAAyC5I,IAAMC,gDAA/C2I,EAAA,EAAA5D,IAAA,oBAAAH,MAAA,WAeIoE,SAASC,iBAAiB,UAAWhJ,KAAKiJ,qBAf9C,CAAAnE,IAAA,uBAAAH,MAAA,WAwBIoE,SAASG,oBAAoB,UAAWlJ,KAAKiJ,qBAxBjD,CAAAnE,IAAA,SAAAH,MAAA,WAsDI,OACEwE,EAAA1I,EAAAC,cAAA,UACEG,UAAU,+BACVqE,SAAS,MACTF,QAAShF,KAAK6I,YACdO,UAAWpJ,KAAKiJ,eAChBI,aAAW,SACXF,EAAA1I,EAAAC,cAAA,QAAMG,UAAU,sBAAhB,qBA7DR6H,EAAA,GAAAY,EAAaZ,cAIQ,CACjBzE,QAASnD,IAAUuE,OACnByD,WAAYhI,IAAUC,SA6DXuE,kBAAWoD,k2BCnEpBa,+VA6CU,SAACzF,GACR/E,EAAKyK,UAAUC,SAAS3F,EAAE8E,UAC7B9E,EAAEE,kBACFjF,EAAKyK,UAAUE,yPAhDG5J,IAAMC,6FAmB1BgJ,SAASC,iBAAiB,QAAShJ,KAAK2J,gBAGpCZ,SAASa,eAAsD,qBAArCb,SAASa,cAAc/I,WACnDb,KAAKwJ,UAAUE,uDAUjBX,SAASG,oBAAoB,QAASlJ,KAAK2J,kBAAa,CAAA7E,IAAA,SAAAH,MAAA,WAsBhD,IAAAzE,EAAAF,KACF6J,EAAS7J,KAAKhB,MAAM6K,OACxBC,EAAS9J,KAAKhB,MAAM8K,OACpBC,EAAW/J,KAAKhB,MAAM+K,SACtBjB,EAAa9I,KAAKhB,MAAM8J,WAE1B,OACEK,EAAA1I,EAAAC,cAAA,OAAKC,IAAK,SAAAqJ,GAAI,OAAI9J,EAAKsJ,UAAYQ,GAAM9E,SAAS,OAChDiE,EAAA1I,EAAAC,cAAA,OAAKG,UAAU,4BACfsI,EAAA1I,EAAAC,cAAA,OAAKG,UAAU,wBACbsI,EAAA1I,EAAAC,cAAA,OAAKG,UAAU,gBACZgJ,EACDV,EAAA1I,EAAAC,cAACuJ,EAAD,CAAqBnB,WAAYA,KAGnCK,EAAA1I,EAAAC,cAAA,OACE2D,GAAG,2BACHxD,UAAU,kDACTkJ,GAGFD,UA5ELP,GA4EKO,EA5ELP,cAIe,CACjBM,OAAQ/I,IAAUoJ,UAAU,CAACpJ,IAAUC,OAAQD,IAAUqJ,UACzDL,OAAQhJ,IAAUoJ,UAAU,CAACpJ,IAAUC,OAAQD,IAAUqJ,UACzDJ,SAAUjJ,IAAUkJ,KAAKhJ,WACzB8H,WAAYhI,IAAUC,SA2EXwI","file":"chunk-1.1010853b5199b15af6b5.js","sourcesContent":["import PropTypes from 'prop-types'\nimport React from 'react'\nimport $ from 'jquery'\n\n/**\n * Renders a message or error, with the option to self-clear itself\n *\n * @package     Gravity PDF\n * @copyright   Copyright (c) 2020, Blue Liquid Designs\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since       4.1\n */\n\n/**\n * React Component\n *\n * @since 4.1\n */\nclass showMessage extends React.Component {\n  /**\n   * Pass the \"dismissable\" prop to enable auto-clearing\n   *\n   * @returns {{delay: number, dismissable: boolean}}\n   *\n   * @since 4.1\n   */\n  static defaultProps = {\n    delay: 4000,\n    dismissable: false,\n  }\n\n  /**\n   * @since 4.1\n   */\n  static propTypes = {\n    text: PropTypes.string.isRequired,\n    error: PropTypes.bool,\n\n    delay: PropTypes.number,\n    dismissable: PropTypes.bool,\n    dismissableCallback: PropTypes.func,\n  }\n\n  /**\n   * @returns {{visible: boolean}}\n   *\n   * @since 4.1\n   */\n  state = {\n    visible: true\n  }\n\n  /**\n   * Resets our state and timer when new props received\n   *\n   * @since 4.1\n   */\n  componentWillReceiveProps () {\n    this.setState({visible: true})\n    this.shouldSetTimer()\n  }\n\n  /**\n   * On mount, maybe set dismissable timer\n   *\n   * @since 4.1\n   */\n  componentDidMount () {\n    this.shouldSetTimer()\n  }\n\n  /**\n   * Check if we should make the message auto-dismissable\n   *\n   * @since 4.1\n   */\n  shouldSetTimer = () => {\n    if (this.props.dismissable) {\n      this.setTimer()\n    }\n  }\n\n  /**\n   * Slide message up after \"X\" milliseconds (see props.delay)\n   * and triggers callback if passed in (see props.dismissableCallback)\n   *\n   * Also clears the initial timeout if called multiple times before removal\n   *\n   * @since 4.1\n   */\n  setTimer = () => {\n    // clear any existing timer\n    this._timer != null ? clearTimeout(this._timer) : null\n\n    // hide after `delay` milliseconds\n    this._timer = setTimeout(() => {\n\n      $(this._message)\n        .removeClass('inline')\n        .slideUp(400, () => {\n          $(this._message).removeAttr('style')\n          this.setState({visible: false})\n          this._timer = null\n\n          if (this.props.dismissableCallback) {\n            this.props.dismissableCallback()\n          }\n        })\n\n    }, this.props.delay)\n  }\n\n  /**\n   * Clear timeout on unmount\n   *\n   * @since 4.1\n   */\n  componentWillUnmount () {\n    if (this.props.dismissable) {\n      clearTimeout(this._timer)\n    }\n  }\n\n  /**\n   * Renders our message or error\n   *\n   * @since 4.1\n   */\n  render () {\n    const {text, error} = this.props\n\n    let classes = 'notice inline'\n\n    if (error) {\n      classes = classes + ' error'\n    }\n\n    return this.state.visible ? (\n      <div ref={(message) => this._message = message} className={classes}>\n        <p>{text}</p>\n      </div>\n    ) : <div/>\n  }\n}\n\nexport default showMessage","import PropTypes from 'prop-types'\nimport React from 'react'\n\n/**\n * Contains stateless React components for our Single Template\n *\n * @package     Gravity PDF\n * @copyright   Copyright (c) 2020, Blue Liquid Designs\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since       4.1\n */\n\n/**\n * React Stateless Component\n *\n * Display the current template label\n *\n * @since 4.1\n */\nexport const CurrentTemplate = ({isCurrentTemplate, label}) => {\n  return (isCurrentTemplate) ? (\n    <span className=\"current-label\">{label}</span>\n  ) : (\n    <span/>\n  )\n}\n\nCurrentTemplate.propTypes = {\n  isCurrentTemplate: PropTypes.bool,\n  label: PropTypes.string\n}\n\n/**\n * React Stateless Component\n *\n * Display the template name and version number\n *\n * @since 4.1\n */\nexport const Name = ({name, version, versionLabel}) => (\n  <h2 className=\"theme-name\">\n    {name}\n\n    <Version version={version} label={versionLabel}/>\n  </h2>\n)\n\nName.propTypes = {\n  name: PropTypes.string,\n  version: PropTypes.string,\n  versionLabel: PropTypes.string\n}\n\n/**\n * React Stateless Component\n *\n * Display the template version number\n *\n * @since 4.1\n */\nexport const Version = ({label, version}) => {\n  return (version) ? (\n    <span className=\"theme-version\">{label}: {version}</span>\n  ) : (\n    <span/>\n  )\n}\n\nVersion.propTypes = {\n  label: PropTypes.string,\n  version: PropTypes.string\n}\n\n/**\n * React Stateless Component\n *\n * Display the template author (and link to website, if any)\n *\n * @since 4.1\n */\nexport const Author = ({author, uri}) => {\n\n  if (uri) {\n    return (\n      <p className=\"theme-author\">\n        <a href={uri}>\n          {author}\n        </a>\n      </p>\n    )\n  } else {\n    return (\n      <p className=\"theme-author\">\n        {author}\n      </p>\n    )\n  }\n}\n\nAuthor.propTypes = {\n  author: PropTypes.string,\n  uri: PropTypes.string\n}\n\n/**\n * React Stateless Component\n *\n * Display the template group\n *\n * @since 4.1\n */\nexport const Group = ({label, group}) => (\n  <p className=\"theme-author\">\n    <strong>{label}: {group}</strong>\n  </p>\n)\n\nGroup.propTypes = {\n  label: PropTypes.string,\n  group: PropTypes.string,\n}\n\n/**\n * React Stateless Component\n *\n * Display the template description\n *\n * @since 4.1\n */\nexport const Description = ({desc}) => (\n  <p className=\"theme-description\">\n    {desc}\n  </p>\n)\n\nDescription.propTypes = {\n  desc: PropTypes.string,\n}\n\n/**\n * React Stateless Component\n *\n * Display the template tags\n *\n * @since 4.1\n */\nexport const Tags = ({label, tags}) => {\n  return (tags) ? (\n    <p className=\"theme-tags\">\n      <span>{label}:</span> {tags}\n    </p>\n  ) : (\n    <span/>\n  )\n}\n\nTags.propTypes = {\n  label: PropTypes.string,\n  tags: PropTypes.string,\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { selectTemplate } from '../../actions/templates'\nimport { withRouter } from 'react-router-dom'\n\n/**\n * Renders the button used to trigger the current active PDF template\n * On click it triggers our Redux action.\n *\n * @package     Gravity PDF\n * @copyright   Copyright (c) 2020, Blue Liquid Designs\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since       4.1\n */\n\n/**\n * React Component\n *\n * @since 4.1\n */\nexport class TemplateActivateButton extends React.Component {\n  /**\n   * @since 4.1\n   */\n  static propTypes = {\n    history: PropTypes.object,\n    onTemplateSelect: PropTypes.func,\n    template: PropTypes.object,\n    buttonText: PropTypes.string\n  }\n\n  /**\n   * Update our route and trigger a Redux action to select the current template\n   *\n   * @param {Object} e Event\n   *\n   * @since 4.1\n   */\n  selectTemplate = (e) => {\n    e.preventDefault()\n    e.stopPropagation()\n\n    this.props.history.push('')\n    this.props.onTemplateSelect(this.props.template.id)\n  }\n\n  /**\n   * @since 4.1\n   */\n  render () {\n    return (\n      <a\n        onClick={this.selectTemplate}\n        href=\"#\"\n        tabIndex=\"150\"\n        className=\"button button-primary activate\">\n        {this.props.buttonText}\n      </a>\n    )\n  }\n}\n\n/**\n * TemplateActivateButton\n * Map actions to props\n *\n * @param {func} dispatch Redux dispatcher\n *\n * @returns {{onTemplateSelect: (function(id=string))}}\n *\n * @since 4.1\n */\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTemplateSelect: id => dispatch(selectTemplate(id))\n  }\n}\n\n/**\n * Maps our Redux store to our React component\n *\n * @since 4.1\n */\nexport default withRouter(connect(null, mapDispatchToProps)(TemplateActivateButton))\n","import { createSelector } from 'reselect'\nimport versionCompare from '../utilities/versionCompare'\n\n/**\n * Uses the Redux Reselect library to sort, filter and search our templates.\n * It also checks if the PDF templates are compatible with the current version of Gravity PDF\n *\n * @package     Gravity PDF\n * @copyright   Copyright (c) 2020, Blue Liquid Designs\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since       4.1\n */\n\n/* Assign specific parts of the Redux store to constants (note, we are returning functions) */\nconst getTemplates = (state) => state.template.list\nconst getSearch = (state) => state.template.search\nconst getActiveTemplate = (state) => state.template.activeTemplate\n\n/**\n * Searches our templates for specific terms and returns the results\n * This function is adapted from the Backbone.js filter for themes\n *\n * @param {string} term\n * @param {Object} templates List of templates\n *\n * @returns {Object} Filtered list of templates\n *\n * @since 4.1\n */\nexport const searchTemplates = (term, templates) => {\n  /*\n   * Escape the term string for RegExp meta characters\n   * Consider spaces as word delimiters and match the whole string\n   */\n\n  /* eslint-disable */\n  term = term.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n  term = term.replace(/ /g, ')(?=.*')\n\n  const match = new RegExp('^(?=.*' + term + ').+', 'i')\n  /* eslint-enable */\n\n  /* Filter through the templates. Any templates return \"true\" in out match.test() statement will be included */\n  const results = templates.filter((template) => {\n    /* Do very basic HTML tag removal from the fields we are interested in */\n    const name = template.template.replace(/(<([^>]+)>)/ig, '')\n    const description = template.description.replace(/(<([^>]+)>)/ig, '')\n    const author = template.author.replace(/(<([^>]+)>)/ig, '')\n    const group = template.group.replace(/(<([^>]+)>)/ig, '')\n\n    /* Check if our matching term(s) are found in the string */\n    return match.test([name, template.id, group, description, author].toString())\n  })\n\n  return results\n}\n\n/**\n * A PDF template sorting function\n *\n * The sort order is as follows:\n *\n * 1. Any new templates get auto-shifted to the back of the list (just installed)\n * 2. The active template gets auto-shifted to the front of the list\n * 3. The templates are then sorted alphabetically by group\n * 4. Then alphabetically by name\n *\n * @param {Object} templates The list of templates\n * @param {string} activeTemplate The current active PDF template\n *\n * @returns {Object} Sorted List\n *\n * @since 4.1\n */\nexport const sortTemplates = (templates, activeTemplate) => {\n  /* Sort out template list using our comparator function */\n  return templates.sort((a, b) => {\n    /* Shift new templates to the bottom (only on install) */\n    if (a['new'] === true && a['new'] === true) {\n      return 0 // equal\n    }\n\n    if (a['new'] === true) {\n      return 1\n    }\n\n    if (b['new'] === true) {\n      return -1\n    }\n\n    /* Hoist the active template above the rest */\n    if (activeTemplate === a['id']) {\n      return -1\n    }\n\n    if (activeTemplate === b['id']) {\n      return 1\n    }\n\n    /* Order alphabetically by the group name */\n    if (a['group'] < b['group']) {\n      return -1 // before\n    }\n\n    if (a['group'] > b['group']) {\n      return 1 // after\n    }\n\n    /* Then order alphabetically by the template name */\n    if (a['template'] < b['template']) {\n      return -1 // before\n    }\n\n    if (a['template'] > b['template']) {\n      return 1 // after\n    }\n\n    return 0 // equal\n  })\n}\n\n/**\n * Check all PDF templates for compatibility with the current verison of Gravity PDF\n * If they don't pass we'll also dynamically apply error messages\n *\n * @param {Object} templates The list of templates\n *\n * @returns {Object} The list of templates\n *\n * @since 4.1\n */\nexport const addCompatibilityCheck = (templates) => {\n  /* Apply this function to all templates */\n  return templates.map((template) => {\n    /* Get the PDF version and check it against the Gravity PDF version */\n    const requiredVersion = template['required_pdf_version']\n    if (versionCompare(requiredVersion, GFPDF.currentVersion, '>')) {\n      /* Not compatible, so let's mark it */\n      return {\n        ...template,\n        'compatible': false,\n        'error': GFPDF.requiresGravityPdfVersion.replace(/%s/g, requiredVersion),\n        'long_error': GFPDF.templateNotCompatibleWithGravityPdfVersion.replace(/%s/g, requiredVersion)\n      }\n    }\n    /* If versionCompare() passed we'll mark as true */\n    return { ...template, 'compatible': true }\n  })\n}\n\n/**\n * Create our Reselect selector and apply to our store\n *\n * @since 4.1\n */\nexport default createSelector([getTemplates, getSearch, getActiveTemplate], (templates, search, activeTemplate) => {\n  templates = addCompatibilityCheck(templates)\n\n  if (search) {\n    templates = searchTemplates(search, templates)\n  }\n\n  return sortTemplates(templates, activeTemplate)\n})\n","/**\n * A JS-port of PHP's version_compare()\n *\n * This function is taken from the Locutus project which has an MIT license.\n * The MIT license and copyright notice is included\n *\n * https://github.com/kvz/locutus\n * https://github.com/kvz/locutus/blob/master/src/php/info/version_compare.js\n *\n * @param string v1 First version number\n * @param string v2 Second version number\n * @param string operator optional If the third optional operator argument is specified, test for a particular relationship.\n *                                 The possible operators are: <, lt, <=, le, >, gt, >=, ge, ==, =, eq, !=, <>, ne respectively.\n * @returns -1 if the first version is lower than the second, 0 if they are equal, and 1 if the second is lower.\n *          When using the optional operator argument, the function will return TRUE if the relationship is the one specified by the operator, FALSE otherwise.\n */\n\n/*\n Copyright (c) 2007-2016 Kevin van Zonneveld (http://kvz.io)\n and Contributors (http://locutus.io/authors)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy of\n this software and associated documentation files (the \"Software\"), to deal in\n the Software without restriction, including without limitation the rights to\n use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n of the Software, and to permit persons to whom the Software is furnished to do\n so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\nexport default (v1, v2, operator) => {\n  //       discuss at: http://locutus.io/php/version_compare/\n  //      original by: Philippe Jausions (http://pear.php.net/user/jausions)\n  //      original by: Aidan Lister (http://aidanlister.com/)\n  // reimplemented by: Kankrelune (http://www.webfaktory.info/)\n  //      improved by: Brett Zamir (http://brett-zamir.me)\n  //      improved by: Scott Baker\n  //      improved by: Theriault (https://github.com/Theriault)\n  //        example 1: version_compare('8.2.5rc', '8.2.5a')\n  //        returns 1: 1\n  //        example 2: version_compare('8.2.50', '8.2.52', '<')\n  //        returns 2: true\n  //        example 3: version_compare('5.3.0-dev', '5.3.0')\n  //        returns 3: -1\n  //        example 4: version_compare('4.1.0.52','4.01.0.51')\n  //        returns 4: 1\n\n  // Important: compare must be initialized at 0.\n  var i\n  var x\n  var compare = 0\n\n  // vm maps textual PHP versions to negatives so they're less than 0.\n  // PHP currently defines these as CASE-SENSITIVE. It is important to\n  // leave these as negatives so that they can come before numerical versions\n  // and as if no letters were there to begin with.\n  // (1alpha is < 1 and < 1.1 but > 1dev1)\n  // If a non-numerical value can't be mapped to this table, it receives\n  // -7 as its value.\n  var vm = {\n    'dev': -6,\n    'alpha': -5,\n    'a': -5,\n    'beta': -4,\n    'b': -4,\n    'RC': -3,\n    'rc': -3,\n    '#': -2,\n    'p': 1,\n    'pl': 1\n  }\n\n  // This function will be called to prepare each version argument.\n  // It replaces every _, -, and + with a dot.\n  // It surrounds any nonsequence of numbers/dots with dots.\n  // It replaces sequences of dots with a single dot.\n  //    version_compare('4..0', '4.0') === 0\n  // Important: A string of 0 length needs to be converted into a value\n  // even less than an unexisting value in vm (-7), hence [-8].\n  // It's also important to not strip spaces because of this.\n  //   version_compare('', ' ') === 1\n  var _prepVersion = function _prepVersion (v) {\n    v = ('' + v).replace(/[_\\-+]/g, '.')\n    v = v.replace(/([^.\\d]+)/g, '.$1.').replace(/\\.{2,}/g, '.')\n    return !v.length ? [-8] : v.split('.')\n  }\n  // This converts a version component to a number.\n  // Empty component becomes 0.\n  // Non-numerical component becomes a negative number.\n  // Numerical component becomes itself as an integer.\n  var _numVersion = function _numVersion (v) {\n    return !v ? 0 : isNaN(v) ? vm[v] || -7 : parseInt(v, 10)\n  }\n\n  v1 = _prepVersion(v1)\n  v2 = _prepVersion(v2)\n  x = Math.max(v1.length, v2.length)\n  for (i = 0; i < x; i++) {\n    if (v1[i] === v2[i]) {\n      continue\n    }\n    v1[i] = _numVersion(v1[i])\n    v2[i] = _numVersion(v2[i])\n    if (v1[i] < v2[i]) {\n      compare = -1\n      break\n    } else if (v1[i] > v2[i]) {\n      compare = 1\n      break\n    }\n  }\n  if (!operator) {\n    return compare\n  }\n\n  // Important: operator is CASE-SENSITIVE.\n  // \"No operator\" seems to be treated as \"<.\"\n  // Any other values seem to make the function return null.\n  switch (operator) {\n    case '>':\n    case 'gt':\n      return compare > 0\n    case '>=':\n    case 'ge':\n      return compare >= 0\n    case '<=':\n    case 'le':\n      return compare <= 0\n    case '===':\n    case '=':\n    case 'eq':\n      return compare === 0\n    case '<>':\n    case '!==':\n    case 'ne':\n      return compare !== 0\n    case '':\n    case '<':\n    case 'lt':\n      return compare < 0\n    default:\n      return null\n  }\n}","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { withRouter } from 'react-router-dom'\n\n/**\n * Renders our close dialog element\n *\n * @package     Gravity PDF\n * @copyright   Copyright (c) 2020, Blue Liquid Designs\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since       4.1\n */\n\n/**\n * React Component\n *\n * @since 4.1\n */\nexport class TemplateCloseDialog extends React.Component {\n  /**\n   * @since 4.1\n   */\n  static propTypes = {\n    history: PropTypes.object,\n    closeRoute: PropTypes.string\n  }\n\n  /**\n   * Assign keydown listener to document on mount\n   *\n   * @since 4.1\n   */\n  componentDidMount () {\n    document.addEventListener('keydown', this.handleKeyPress, false)\n  }\n\n  /**\n   * Remove keydown listener to document on mount\n   *\n   * @since 4.1\n   */\n  componentWillUnmount () {\n    document.removeEventListener('keydown', this.handleKeyPress, false)\n  }\n\n  /**\n   * Check if Escape key pressed and current event target isn't our search box,\n   * or the search box is blank already\n   *\n   * @param {Object} e Event\n   *\n   * @since 4.1\n   */\n  handleKeyPress = (e) => {\n    /* Escape Key */\n    if (e.keyCode === 27 && (e.target.className !== 'wp-filter-search' || e.target.value === '')) {\n      this.closeDialog()\n    }\n  }\n\n  /**\n   * @since 4.1\n   */\n  closeDialog = () => {\n    /* trigger router */\n    this.props.history.push(this.props.closeRoute || '/')\n  }\n\n  /**\n   * @since 4.1\n   */\n  render () {\n    return (\n      <button\n        className=\"close dashicons dashicons-no\"\n        tabIndex=\"142\"\n        onClick={this.closeDialog}\n        onKeyDown={this.handleKeyPress}\n        aria-label=\"close\">\n        <span className=\"screen-reader-text\">Close dialog</span>\n      </button>\n    )\n  }\n}\n\nexport default withRouter(TemplateCloseDialog)\n","import PropTypes from 'prop-types'\nimport React from 'react'\nimport TemplateCloseDialog from './TemplateCloseDialog'\n\n/**\n * Renders our Advanced Template Selector container which is shared amongst the components\n *\n * @package     Gravity PDF\n * @copyright   Copyright (c) 2020, Blue Liquid Designs\n * @license     http://opensource.org/licenses/gpl-2.0.php GNU Public License\n * @since       4.1\n */\n\n/**\n * React Component\n *\n * @since 4.1\n */\nclass Container extends React.Component {\n  /**\n   * @since 4.1\n   */\n  static propTypes = {\n    header: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    footer: PropTypes.oneOfType([PropTypes.string, PropTypes.element]),\n    children: PropTypes.node.isRequired,\n    closeRoute: PropTypes.string,\n  }\n\n  /**\n   * On mount, add focus event to document option on mount\n   * Also, if focus isn't currently applied to the search box we'll apply it\n   * to our container to help with tabbing between elements\n   *\n   * @since 4.1\n   */\n  componentDidMount () {\n    document.addEventListener('focus', this.handleFocus, true)\n\n    /* Add focus if not currently applied to search box */\n    if (document.activeElement && document.activeElement.className !== 'wp-filter-search') {\n      this.container.focus()\n    }\n  }\n\n  /**\n   * Cleanup our document event listeners\n   *\n   * @since 4.1\n   */\n  componentWillUnmount () {\n    document.removeEventListener('focus', this.handleFocus, true)\n  }\n\n  /**\n   * When a focus event is fired and it's not apart of any DOM elements in our\n   * container we will focus the container instead. In most cases this keeps the focus from\n   * jumping outside our Template Container and allows for better keyboard navigation.\n   *\n   * @param e\n   *\n   * @since 4.1\n   */\n  handleFocus = (e) => {\n    if (!this.container.contains(e.target)) {\n      e.stopPropagation()\n      this.container.focus()\n    }\n  }\n\n  /**\n   * @since 4.1\n   */\n  render () {\n    const header = this.props.header,\n      footer = this.props.footer,\n      children = this.props.children,\n      closeRoute = this.props.closeRoute\n\n    return (\n      <div ref={node => this.container = node} tabIndex=\"140\">\n        <div className=\"backdrop theme-backdrop\"></div>\n        <div className=\"container theme-wrap\">\n          <div className=\"theme-header\">\n            {header}\n            <TemplateCloseDialog closeRoute={closeRoute}/>\n          </div>\n\n          <div\n            id=\"gfpdf-template-container\"\n            className=\"theme-about wp-clearfix theme-browser rendered\">\n            {children}\n          </div>\n\n          {footer}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Container\n"],"sourceRoot":""}