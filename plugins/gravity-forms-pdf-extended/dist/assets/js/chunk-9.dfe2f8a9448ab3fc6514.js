(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{103:function(t,e,o){var n=o(9),r=o(7),a=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{(n=o(23)(Function.call,o(67).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,o){return a(t,o),e?t.__proto__=o:n(t,o),t}}({},!1):void 0),check:a}},159:function(t,e,o){var n=o(15);n(n.S,"Object",{setPrototypeOf:o(103).set})},162:function(t,e,o){"use strict";var n=o(1),r=o.n(n);e.a=function(){return r.a.createElement("img",{alt:GFPDF.spinnerAlt,src:GFPDF.spinnerUrl,className:"gfpdf-spinner"})}},182:function(t,e,o){"use strict";o.r(e);var n=o(1),r=o.n(n),a=o(2),i=o.n(a),c=o(157),s=o(158),l=o(156),u=(o(80),o(66),o(159),o(37),o(36)),p=(o(68),o(51),o(50),o(69),function(){return r.a.createElement("div",{className:"gfpdf-core-font-spacer"},"---")});function f(t){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function d(t,e,o){return e&&b(t.prototype,e),o&&b(t,o),t}function m(t,e){return!e||"object"!==f(e)&&"function"!=typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function w(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var v=function(t){function e(){return y(this,e),m(this,F(e).apply(this,arguments))}return g(e,r.a.Component),d(e,[{key:"render",value:function(){var t=this,e=this.props.console,o=Object.keys(e).reverse(),n=0<this.props.retry.length;return o.length?r.a.createElement("div",{className:"gfpdf-core-font-container"},o.map(function(o){return r.a.createElement("div",{key:o,className:"gfpdf-core-font-status-"+e[o].status},e[o].message," ","completed"===o&&n&&r.a.createElement(j,{history:t.props.history,retryText:t.props.retryText}),"completed"===o&&r.a.createElement(p,null))})):null}}]),e}();w(v,"propTypes",{console:i.a.object,retry:i.a.array,history:i.a.object,retryText:i.a.string});var j=function(t){function e(){var t,o;y(this,e);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return w(h(o=m(this,(t=F(e)).call.apply(t,[this].concat(r)))),"triggerRetryFontDownload",function(t){t.preventDefault(),o.props.history.replace("retryDownloadCoreFonts")}),o}return g(e,r.a.Component),d(e,[{key:"render",value:function(){return r.a.createElement("a",{href:"#",onClick:this.triggerRetryFontDownload},this.props.retryText)}}]),e}();w(j,"propTypes",{history:i.a.object,retryText:i.a.string});var C=function(t){var e=t.className,o=t.callback,n=t.text,a=t.disable;return r.a.createElement("button",{className:e,type:"button",onClick:o,disabled:a},n)};C.defaultProps={disable:!1},C.propTypes={className:i.a.string,callback:i.a.func,text:i.a.string,disable:i.a.bool};var E=C,D=function(t){var e=t.queue,o=t.text;return r.a.createElement("span",{className:"gfpdf-core-font-counter"},o," ",e)};D.propTypes={queue:i.a.number,text:i.a.string};var x=D,T=o(162),O=o(6);function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function k(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t,e){return(G=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var q=function(t){function e(){var t,o;!function(t,o){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return R(S(o=function(t,e){return!e||"object"!==_(e)&&"function"!=typeof e?S(t):e}(this,(t=P(e)).call.apply(t,[this].concat(r)))),"state",{ajax:!1}),R(S(o),"maybeStartDownload",function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;"/downloadCoreFonts"===t&&o.startDownloadFonts(e,n),"/retryDownloadCoreFonts"===t&&(o.setState({ajax:!0}),o.startDownloadFonts(e,n))}),R(S(o),"startDownloadFonts",function(t,e){return 0===t.length?(o.props.clearButtonClickedAndRetryList(),o.handleGithubApiError(e)):(o.props.clearConsole(),o.props.clearButtonClickedAndRetryList(),o.props.history.replace(""),setTimeout(function(){return t.map(function(t){return o.props.downloadFontsApiCall(t)})},300),t)}),R(S(o),"handleGithubApiError",function(t){return o.setState({ajax:!1}),o.props.addToConsole("completed","error",t),o.props.history.replace(""),t}),R(S(o),"triggerFontDownload",function(){!1===o.state.ajax&&o.setState({ajax:!0},function(){o.props.getFilesFromGitHub()})}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&G(t,e)}(e,r.a.Component),function(t,e,o){e&&k(t.prototype,e)}(e,[{key:"componentWillReceiveProps",value:function(t){0<t.fontList.length&&t.buttonClicked&&this.startDownloadFonts(t.fontList),"/downloadCoreFonts"===t.location.pathname&&this.triggerFontDownload(),"/retryDownloadCoreFonts"===t.location.pathname&&this.maybeStartDownload(t.location.pathname,t.retry),""!==t.getFilesFromGitHubFailed&&t.buttonClicked&&this.startDownloadFonts(t.fontList,t.getFilesFromGitHubFailed),"finished"===t.requestDownload&&(this.setState({ajax:!1}),this.props.clearRequestRemainingData(),this.props.history.replace(""))}},{key:"componentDidMount",value:function(){"/downloadCoreFonts"===this.props.location.pathname&&this.triggerFontDownload()}},{key:"render",value:function(){var t=this.state.ajax,e=this.props,o=e.fontList,n=e.buttonClassName,a=e.buttonText,i=e.counterText,c=e.queue,s=e.history,l=e.console,u=e.retry,p=e.retryText,f=c<o.length&&0!==c||t;return r.a.createElement("div",null,r.a.createElement(E,{className:n,callback:this.triggerFontDownload,text:a,disable:f}),t&&r.a.createElement(T.a,null),t&&0!==c&&r.a.createElement(x,{text:i,queue:c}),r.a.createElement(v,{history:s,console:l,retry:u,retryText:p}))}}]),e}();R(q,"propTypes",{location:i.a.object,requestDownload:i.a.string,clearRequestRemainingData:i.a.func,getFilesFromGitHub:i.a.func,buttonClicked:i.a.bool,fontList:i.a.array,getFilesFromGitHubFailed:i.a.string,retry:i.a.array,clearConsole:i.a.func,history:i.a.object,clearButtonClickedAndRetryList:i.a.func,downloadFontsApiCall:i.a.func,githubError:i.a.string,addToConsole:i.a.func,console:i.a.object,buttonClassName:i.a.string,buttonText:i.a.string,counterText:i.a.string,retryText:i.a.string,queue:i.a.number});var A=Object(u.b)(function(t){return{buttonClicked:t.coreFonts.buttonClicked,fontList:t.coreFonts.fontList,getFilesFromGitHubFailed:t.coreFonts.getFilesFromGitHubFailed,console:t.coreFonts.console,retry:t.coreFonts.retry,requestDownload:t.coreFonts.requestDownload,queue:t.coreFonts.downloadCounter}},{addToConsole:O.k,clearButtonClickedAndRetryList:O.m,getFilesFromGitHub:O.r,downloadFontsApiCall:O.q,clearRequestRemainingData:O.o,clearConsole:O.n})(q),N=function(t){var e=t.button;return r.a.createElement(c.a,null,r.a.createElement(s.a,null,r.a.createElement(l.a,{render:function(t){return r.a.createElement(L,{history:t.history,button:e})}}),r.a.createElement(l.a,{path:"/downloadCoreFonts",exact:!0,render:function(t){return r.a.createElement(L,{history:t.history,button:e})}}),r.a.createElement(l.a,{path:"/retryDownloadCoreFonts",exact:!0,render:function(t){return r.a.createElement(L,{history:t.history,button:e})}})))};N.propTypes={history:i.a.object,button:i.a.object};var L=function(t){var e=t.history,o=t.button;return r.a.createElement(A,{history:e,location:e.location,buttonClassName:o.className,buttonText:o.innerText,success:GFPDF.coreFontSuccess,error:GFPDF.coreFontError,itemPending:GFPDF.coreFontItemPendingMessage,itemSuccess:GFPDF.coreFontItemSuccessMessage,itemError:GFPDF.coreFontItemErrorMessage,counterText:GFPDF.coreFontCounter,retryText:GFPDF.coreFontRetry})};L.propTypes={history:i.a.object,button:i.a.object},e.default=N}}]);
//# sourceMappingURL=9.js.map